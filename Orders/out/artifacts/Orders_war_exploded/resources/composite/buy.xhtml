<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:p="http://primefaces.org/ui"
      xmlns:composite="http://java.sun.com/jsf/composite">

<composite:interface>
    <composite:attribute name="buyValue"/>
    <composite:attribute name="currentPage"/>
    <composite:attribute name="shoppingCart"/>
    <composite:attribute name="buyButtonAction"
                         method-signature="java.lang.String action()"/>

</composite:interface>

<composite:implementation>
    <h:form id="buyForm">
        <p:growl id="messages"/>
        <h:panelGrid columns="3" style="width:120%">
            <h:panelGroup>
                <h:outputText value="В корзине: " styleClass="m-text-header"/>
                <h:outputText value="#{proposalController.shopingCart.cartBalance}" styleClass="m-text-header">
                    <f:convertNumber currencySymbol="RUB" type="currency" groupingUsed="true" minFractionDigits="2"/>
                </h:outputText>
            </h:panelGroup>
            <h:panelGroup>
                <h:commandButton value="Оформить заказ" styleClass="m-btn-metro m-btn-small m-light-blue m-icon-buy"
                                 action="#{ordersController.addOrders(cc.attrs.shoppingCart)}"
                                 update="messages" />
                <h:commandButton value="Отмена" styleClass="m-btn-metro m-btn-small m-light-blue m-icon-buy-cancel"
                                 action="#{proposalController.clearShoppingCart()}"/>
            </h:panelGroup>
        </h:panelGrid>
    </h:form>

</composite:implementation>

</html>